---
title: "001-大话设计模式-单例模式"
date: 2019-07-02T18:11:32+08:00
author: CoderLeftEar
categories: ["设计模式"]
tags: ["设计模式"]
draft: true
---

# 单例模式

## 1.饿汉式—静态常量方式（线程安全）

```java
public class Singleton {  
    private static Singleton instance = new Singleton(); 
    
    private Singleton (){}  
    
    public static Singleton getInstance() {  
    	return instance;  
    }  
}

```



## 2.饿汉式—静态代码块方式（线程安全）

```java
public class Singleton {
    private static Singleton instance;
    
    static {
        instance = new Singleton();
    }
    
    private Singleton() {}
    
    public static Singleton getInstance() {
        return instance;
    }
}
```



## 3.懒汉式（线程不安全）

```java
public class Singleton {
    private static Singleton singleton;
    
    private Singleton() {}
    
    public static Singleton getInstance() {
        if (singleton == null) {
            singleton = new Singleton();
        }
        return singleton;
    }
}
```



## 4.懒汉式（线程安全，方法上加同步锁）

```java
public class Singleton {
    private static Singleton singleton;
    
    private Singleton() {}
    
    public static synchronized Singleton getInstance() {
        if (singleton == null) {
            singleton = new Singleton();
        }
        return singleton;
    }
}
```



## 5.双重校验锁（线程安全，效率高）

```java
public class Singleton {
	private volatile static Singleton singleton;
    
	private Singleton() {}
    
	public static Singleton getSingleton() {
		if (singleton == null) {
			synchronized (Singleton.class) {
				if (singleton == null) {
						singleton = new Singleton();
				}
			}
		}
		return singleton;
	}
}
```



#### 6.静态内部类实现单例（线程安全、效率高）

```java
public class Singleton {
    private static class SingletonHolder {
    	private static final Singleton INSTANCE = new Singleton();  
    }
    
    private Singleton (){}
    
    public static final Singleton getInstance() {
    	return SingletonHolder.INSTANCE;
    }
}
```

